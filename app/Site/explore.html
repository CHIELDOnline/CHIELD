<!DOCTYPE html>
<html>
<head>
<title>CHIELD: Explore</title>
<link rel="shortcut icon" type="image/x-icon" href="images/chieldIcon.ico" />


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script>


<script type="text/javascript" src="js/visualisation/vis.js"></script>
<script type="text/javascript" src="js/visualisation/vis_network_utils.js"></script>

<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.16/sc-1.4.3/sl-1.2.4/datatables.min.css"/>
 
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.16/sc-1.4.3/sl-1.2.4/datatables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/fixedcolumns/3.2.4/js/dataTables.fixedColumns.min.js"></script>

<link rel="stylesheet" type="text/css" href="css/explore.css"/>

<script type="text/javascript" src="js/db.js"></script>
<script type="text/javascript" src="js/visualisation/GUI_for_explore.js"></script>
<script type="text/javascript" src="js/visualisation/exportNetwork.js"></script>
<script type="text/javascript" src="js/explore.js"></script>
<!--<link rel="stylesheet" type="text/css" href="css/jquery.dynatable.css">-->
</head>

<div id="header"></div>

<div class="loader"></div> 

<button id="networkSettingsButton" class="btn btn-danger">
  <i class="fas fa-wrench"></i>
</button>
<div id="networkSettings" class="container">
  <h5>Options</h4>
    <div class="btn-group">
      <div class="dropdown show">
        <a class="btn btn-secondary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Set Edge Colours by ...
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" href="#" onclick="changeEdgeColourScheme('causal')">Causal</a>
          <a class="dropdown-item" href="#" onclick="changeEdgeColourScheme('cor')">Correlation</a>
          <a class="dropdown-item" href="#" onclick="changeEdgeColourScheme('type')">Type</a>
          <a class="dropdown-item" href="#" onclick="changeEdgeColourScheme('stage')">Stage</a>
        </div>
      </div>
      <button class="btn btn-danger" onclick="clusterByGroup()">Cluster</button>
    </div>
</div>

<h3 id="exploreTitle">Explore</h3>

<div id="mynetwork"></div>

<div id="controlPanel">
  <input id="searchVariablesToAdd" placeholder="Search variables" autofocus></input>
  <br /><br />
  <div class="btn-group-vertical">

    <button id="addVariable" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="Add a node">
        <i class="fas fa-plus"></i>
    </button>

    <button id="removeVariable" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="Remove the selected nodes">
        <i class="fas fa-minus"></i>
    </button>

    <button id="expandVariable" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="Expand links from selected nodes">
        <svg class="svg-inline--fa fa-expand fa-w-18" aria-hidden="true" data-prefix="fas" data-icon="expand" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M 182.49805 92.9375 A 175.84147 175.84147 0 0 0 55.591797 144.42188 A 175.84147 175.84147 0 0 0 55.591797 393.09961 A 175.84147 175.84147 0 0 0 304.26953 393.09961 A 175.84147 175.84147 0 0 0 351.32617 307.73047 L 175.79883 307.73047 C 122.42358 302.20778 136.01725 229.35539 175.79883 229.8125 L 351.19141 229.8125 A 175.84147 175.84147 0 0 0 304.26953 144.42188 A 175.84147 175.84147 0 0 0 182.49805 92.9375 z M 351.19141 229.8125 A 175.84147 175.84147 0 0 1 351.32617 307.73047 L 431.88086 307.73047 C 432.3282 323.49253 432.89909 342.89513 433.61328 369.6582 C 434.00178 399.73217 453.65085 403.59135 466.96875 390.27344 L 566.98242 290.25977 C 576.3326 280.90959 576.3326 265.85604 566.98242 256.50586 L 466.96875 156.49219 C 457.61857 147.142 434.54679 149.94838 431.60938 174.92969 C 431.19939 198.75257 430.93502 215.8103 430.81445 229.8125 L 351.19141 229.8125 z "></path></svg>
    </button>
    
    <button id="findPaths" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="Find causal paths between two selected nodes">
        <svg class="svg-inline--fa fa-path fa-w-18" aria-hidden="true" data-prefix="fas" data-icon="path" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M 520.82812 3.7324219 A 49.087188 49.087188 0 0 0 471.74023 52.820312 A 49.087188 49.087188 0 0 0 488.88281 90.0625 A 15.151515 15.151515 0 0 0 487.81641 92.179688 L 451.22266 179.08594 A 15.151515 15.151515 0 0 0 450.74219 180.35156 A 91.789185 91.789185 0 0 0 429.56641 177.77148 A 91.789185 91.789185 0 0 0 394.9707 184.60547 A 18.60186 18.60186 0 0 0 393.96289 182.9375 L 347.29883 113.22852 A 18.60186 18.60186 0 0 0 345.66406 111.10547 A 65.203423 65.203423 0 0 0 360.77539 69.392578 A 65.203423 65.203423 0 0 0 295.57031 4.1894531 A 65.203423 65.203423 0 0 0 230.36719 69.392578 A 65.203423 65.203423 0 0 0 247.70508 113.57812 A 23.152315 23.152315 0 0 0 245.51953 117.16602 L 185.24414 236.56055 A 23.152315 23.152315 0 0 0 184.43164 238.32617 A 138.17537 138.17537 0 0 0 143.63867 232.16602 A 138.17537 138.17537 0 0 0 5.4628906 370.33984 A 138.17537 138.17537 0 0 0 143.63867 508.51562 A 138.17537 138.17537 0 0 0 281.81445 370.33984 A 138.17537 138.17537 0 0 0 225.55469 259.25977 A 23.152315 23.152315 0 0 0 226.57617 257.42578 L 286.85156 138.03125 A 23.152315 23.152315 0 0 0 288.42383 134.17578 A 65.203423 65.203423 0 0 0 295.57031 134.5957 A 65.203423 65.203423 0 0 0 315.01562 131.55469 A 18.60186 18.60186 0 0 0 316.38672 133.92383 L 363.05078 203.63086 A 18.60186 18.60186 0 0 0 364.21094 205.22461 A 91.789185 91.789185 0 0 0 337.77734 269.56055 A 91.789185 91.789185 0 0 0 429.56641 361.34961 A 91.789185 91.789185 0 0 0 521.35547 269.56055 A 91.789185 91.789185 0 0 0 478.57227 192.07227 A 15.151515 15.151515 0 0 0 479.14844 190.84375 L 515.74219 103.9375 A 15.151515 15.151515 0 0 0 516.50195 101.69141 A 49.087188 49.087188 0 0 0 520.82812 101.90625 A 49.087188 49.087188 0 0 0 569.91406 52.820312 A 49.087188 49.087188 0 0 0 520.82812 3.7324219 z "></path></svg>
    </button>
    
    
    <button id="fit" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="Fit the network within the window">
        <i class="fas fa-eye"></i>
    </button>
    
    <button id="viewAll" class="btn btn-danger" data-toggle="tooltip" data-placement="left" title="View the whole network (can be very slow)">
        ALL
    </button>

    <div class="btn-group">
        <a class="btn btn-danger dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-download"></i>
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
          <a class="dropdown-item" href="#" onclick="saveCanvasAsPNG()">PNG</a>
        </div>
    </div>

  </div>
</div>



<div id="legend">
  <h5 id="legendTitle">Legend</h5>
  <a id="closeLegendButton" href="#" class="close" aria-label="close" onclick="hideLegend()">&times;</a>
  <div id="legendItems"></div>
</div>
<button id="legendButton" class="btn btn-danger" onclick="showLegend()"><i class="fas fa-bars"></i></button>



<div class="container-fluid" id="links">
  <button id="toggleTableButton" class="btn btn-danger">
    <i class="fas fa-chevron-up"></i>
  </button>
  <div id="links_table_container">
  <table id="links_table" class="table table-striped table-bordered">
    <thead>
      <th>pk</th>
      <th>Variable 1</th>
      <th>Relation</th>
      <th>Variable 2</th>
      <th>Cor</th>
      <th>Stage</th>
      <th>Type</th>
      <th>Reference</th>
      <th>citekey</th>
    </thead>
    <tfoot>
      <th>pk</th>
      <th>Variable 1</th>
      <th>Relation</th>
      <th>Variable 2</th>
      <th>Cor</th>
      <th>Stage</th>
      <th>Type</th>
      <th>Reference</th>
      <th>citekey</th>
    </tfoot>
    <tbody>
    </tbody>
  </table>
  <div>
</div>
</html>